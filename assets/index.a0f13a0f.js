function n(){}function t(n){return n()}function s(){return Object.create(null)}function a(n){n.forEach(t)}function e(n){return"function"==typeof n}function o(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function c(n,t){n.appendChild(t)}function p(n,t,s){n.insertBefore(t,s||null)}function l(n){n.parentNode.removeChild(n)}function r(n){return document.createElement(n)}function u(n){return document.createTextNode(n)}function i(){return u(" ")}function k(n,t,s){null==s?n.removeAttribute(t):n.getAttribute(t)!==s&&n.setAttribute(t,s)}function d(n,t){t=""+t,n.wholeText!==t&&(n.data=t)}let f;function h(n){f=n}function m(){if(!f)throw new Error("Function called outside component initialization");return f}function g(n){m().$$.after_update.push(n)}function $(){const n=m();return(t,s)=>{const a=n.$$.callbacks[t];if(a){const e=function(n,t){const s=document.createEvent("CustomEvent");return s.initCustomEvent(n,!1,!1,t),s}(t,s);a.slice().forEach(t=>{t.call(n,e)})}}}const y=[],b=[],v=[],w=[],_=Promise.resolve();let x=!1;function S(n){v.push(n)}let E=!1;const T=new Set;function C(){if(!E){E=!0;do{for(let n=0;n<y.length;n+=1){const t=y[n];h(t),I(t.$$)}for(h(null),y.length=0;b.length;)b.pop()();for(let n=0;n<v.length;n+=1){const t=v[n];T.has(t)||(T.add(t),t())}v.length=0}while(y.length);for(;w.length;)w.pop()();x=!1,E=!1,T.clear()}}function I(n){if(null!==n.fragment){n.update(),a(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(S)}}const M=new Set;function A(n,t){n&&n.i&&(M.delete(n),n.i(t))}function N(n,s,o){const{fragment:c,on_mount:p,on_destroy:l,after_update:r}=n.$$;c&&c.m(s,o),S(()=>{const s=p.map(t).filter(e);l?l.push(...s):a(s),n.$$.on_mount=[]}),r.forEach(S)}function j(n,t){const s=n.$$;null!==s.fragment&&(a(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function L(n,t){-1===n.$$.dirty[0]&&(y.push(n),x||(x=!0,_.then(C)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function q(t,e,o,c,p,r,u=[-1]){const i=f;h(t);const k=e.props||{},d=t.$$={fragment:null,ctx:null,props:r,update:n,not_equal:p,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:s(),dirty:u,skip_bound:!1};let m=!1;if(d.ctx=o?o(t,k,(n,s,...a)=>{const e=a.length?a[0]:s;return d.ctx&&p(d.ctx[n],d.ctx[n]=e)&&(!d.skip_bound&&d.bound[n]&&d.bound[n](e),m&&L(t,n)),s}):[],d.update(),m=!0,a(d.before_update),d.fragment=!!c&&c(d.ctx),e.target){if(e.hydrate){const n=(g=e.target,Array.from(g.childNodes));d.fragment&&d.fragment.l(n),n.forEach(l)}else d.fragment&&d.fragment.c();e.intro&&A(t.$$.fragment),N(t,e.target,e.anchor),C()}var g;h(i)}class O{$destroy(){j(this,1),this.$destroy=n}$on(n,t){const s=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return s.push(t),()=>{const n=s.indexOf(t);-1!==n&&s.splice(n,1)}}$set(n){var t;this.$$set&&(t=n,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}function P(n,t,s){let{theme:a=null}=t,{key:e="theme"}=t;const o=$(),c=()=>matchMedia("(prefers-color-scheme: dark)").matches+"";var p;return p=()=>{s(0,a=localStorage.getItem(e)),a&&!function(){const n=localStorage.getItem("system-theme"),t=c();return n!==t&&localStorage.setItem("system-theme",t),null!=n&&n!==t}()||s(0,a="true"===c()?"dark":"light")},m().$$.on_mount.push(p),g(()=>{a&&(o("change",a),localStorage.setItem(e,a))}),n.$$set=n=>{"theme"in n&&s(0,a=n.theme),"key"in n&&s(1,e=n.key)},[a,e]}class U extends O{constructor(n){super(),q(this,n,P,null,o,{theme:0,key:1})}}function z(n){let t,s,a,e,o,f,h,m,g,$,y,v,_,x,S,E,T,C,I,L,q,O,P,z,W;function B(t){n[2].call(null,t)}let F={};return void 0!==n[0]&&(F.theme=n[0]),a=new U({props:F}),b.push(()=>function(n,t,s){const a=n.$$.props[t];void 0!==a&&(n.$$.bound[a]=s,s(n.$$.ctx[a]))}(a,"theme",B)),a.$on("change",n[3]),{c(){var e;t=r("h1"),t.textContent=`${D} v${H}`,s=i(),(e=a.$$.fragment)&&e.c(),o=i(),f=r("h2"),h=u("This is "),m=u(n[0]),g=u(" mode."),$=i(),y=r("button"),v=u("Switch to "),_=u(n[1]),x=u(" mode"),S=i(),E=r("p"),E.innerHTML='This component uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank" rel="noopener noreferrer">window.localStorage</a> to persist the theme locally. If you reload the page, the browser will remember\n  the theme.',T=i(),C=r("p"),C.textContent="If you change the color scheme in your System Preferences, the theme will\n  update accordingly when the page is reloaded.",I=i(),L=r("h2"),L.textContent="Sample code",q=i(),O=r("pre"),k(t,"class","svelte-1lqc6i9"),k(y,"type","button"),k(y,"class","svelte-1lqc6i9"),k(O,"class","language-html")},m(e,l){var r,u,i,k;p(e,t,l),p(e,s,l),N(a,e,l),p(e,o,l),p(e,f,l),c(f,h),c(f,m),c(f,g),p(e,$,l),p(e,y,l),c(y,v),c(y,_),c(y,x),p(e,S,l),p(e,E,l),p(e,T,l),p(e,C,l),p(e,I,l),p(e,L,l),p(e,q,l),p(e,O,l),O.innerHTML='<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">import</span> DarkMode <span class="token keyword">from</span> <span class="token string">"svelte-dark-mode"</span><span class="token punctuation">;</span>\n  <span class="token keyword">import</span> <span class="token punctuation">&#123;</span> afterUpdate <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"svelte"</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">let</span> theme<span class="token punctuation">;</span>\n\n  $<span class="token operator">:</span> switchTheme <span class="token operator">=</span> theme <span class="token operator">===</span> <span class="token string">"dark"</span> <span class="token operator">?</span> <span class="token string">"light"</span> <span class="token operator">:</span> <span class="token string">"dark"</span><span class="token punctuation">;</span>\n\n  <span class="token function">afterUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>\n    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> theme<span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n  <span class="token selector">:global(.dark)</span> <span class="token punctuation">&#123;</span>\n    <span class="token property">background-color</span><span class="token punctuation">:</span> #262626<span class="token punctuation">;</span>\n    <span class="token property">color</span><span class="token punctuation">:</span> #f4f4f4<span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span>\n\n  <span class="token selector">:global(.dark a)</span> <span class="token punctuation">&#123;</span>\n    <span class="token property">color</span><span class="token punctuation">:</span> #f4f4f4<span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DarkMode</span> <span class="token attr-name"><span class="token namespace">bind:</span>theme</span> <span class="token punctuation">/></span></span>\n\n&lt;button type="button" on:click=&#123;() => &#123; theme = switchTheme; &#125;&#125;>\n  Switch to &#123;switchTheme&#125; mode\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code>',P=!0,z||(r=y,u="click",i=n[4],r.addEventListener(u,i,k),W=()=>r.removeEventListener(u,i,k),z=!0)},p(n,[t]){const s={};var o;!e&&1&t&&(e=!0,s.theme=n[0],o=()=>e=!1,w.push(o)),a.$set(s),(!P||1&t)&&d(m,n[0]),(!P||2&t)&&d(_,n[1])},i(n){P||(A(a.$$.fragment,n),P=!0)},o(n){!function(n,t,s,a){if(n&&n.o){if(M.has(n))return;M.add(n),(void 0).c.push(()=>{M.delete(n),a&&(s&&n.d(1),a())}),n.o(t)}}(a.$$.fragment,n),P=!1},d(n){n&&l(t),n&&l(s),j(a,n),n&&l(o),n&&l(f),n&&l($),n&&l(y),n&&l(S),n&&l(E),n&&l(T),n&&l(C),n&&l(I),n&&l(L),n&&l(q),n&&l(O),z=!1,W()}}}let D="svelte-dark-mode",H="0.1.1";function W(n,t,s){let a;g(()=>{document.body.className=a});let e;return n.$$.update=()=>{1&n.$$.dirty&&s(1,e="dark"===a?"light":"dark")},[a,e,function(n){a=n,s(0,a)},n=>{console.log(n.detail)},()=>{s(0,a=e)}]}new class extends O{constructor(n){super(),q(this,n,W,z,o,{})}}({target:document.body});
