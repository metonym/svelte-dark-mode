var app=function(){"use strict";function n(){}function t(n){return n()}function s(){return Object.create(null)}function a(n){n.forEach(t)}function e(n){return"function"==typeof n}function o(n,t){return n!=n?t==t:n!==t}function p(n,t){n.appendChild(t)}function c(n){n.parentNode.removeChild(n)}function l(n){return document.createElement(n)}function r(n){return document.createTextNode(n)}function i(){return r(" ")}function u(n,t,s,a){return n.addEventListener(t,s,a),()=>n.removeEventListener(t,s,a)}function k(n,t,s){null==s?n.removeAttribute(t):n.getAttribute(t)!==s&&n.setAttribute(t,s)}function d(n,t){t=""+t,n.wholeText!==t&&(n.data=t)}let h;function g(n){h=n}function m(){if(!h)throw new Error("Function called outside component initialization");return h}function f(){const n=m();return(t,s)=>{const a=n.$$.callbacks[t];if(a){const e=function(n,t,s=!1){const a=document.createEvent("CustomEvent");return a.initCustomEvent(n,s,!1,t),a}(t,s);a.slice().forEach((t=>{t.call(n,e)}))}}}const y=[],$=[],v=[],b=[],T=Promise.resolve();let M=!1;function x(n){v.push(n)}function L(n){b.push(n)}let w=!1;const H=new Set;function S(){if(!w){w=!0;do{for(let n=0;n<y.length;n+=1){const t=y[n];g(t),C(t.$$)}for(g(null),y.length=0;$.length;)$.pop()();for(let n=0;n<v.length;n+=1){const t=v[n];H.has(t)||(H.add(t),t())}v.length=0}while(y.length);for(;b.length;)b.pop()();M=!1,w=!1,H.clear()}}function C(n){if(null!==n.fragment){n.update(),a(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(x)}}const _=new Set;function E(n,t){n&&n.i&&(_.delete(n),n.i(t))}function q(n,t,s,a){if(n&&n.o){if(_.has(n))return;_.add(n),undefined.c.push((()=>{_.delete(n),a&&(s&&n.d(1),a())})),n.o(t)}}function j(n,t,s){const a=n.$$.props[t];void 0!==a&&(n.$$.bound[a]=s,s(n.$$.ctx[a]))}function I(n){n&&n.c()}function A(n,s,o,p){const{fragment:c,on_mount:l,on_destroy:r,after_update:i}=n.$$;c&&c.m(s,o),p||x((()=>{const s=l.map(t).filter(e);r?r.push(...s):a(s),n.$$.on_mount=[]})),i.forEach(x)}function P(n,t){const s=n.$$;null!==s.fragment&&(a(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function N(n,t){-1===n.$$.dirty[0]&&(y.push(n),M||(M=!0,T.then(S)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function U(t,e,o,p,l,r,i,u=[-1]){const k=h;g(t);const d=t.$$={fragment:null,ctx:null,props:r,update:n,not_equal:l,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(k?k.$$.context:e.context||[]),callbacks:s(),dirty:u,skip_bound:!1,root:e.target||k.$$.root};i&&i(d.root);let m=!1;if(d.ctx=o?o(t,e.props||{},((n,s,...a)=>{const e=a.length?a[0]:s;return d.ctx&&l(d.ctx[n],d.ctx[n]=e)&&(!d.skip_bound&&d.bound[n]&&d.bound[n](e),m&&N(t,n)),s})):[],d.update(),m=!0,a(d.before_update),d.fragment=!!p&&p(d.ctx),e.target){if(e.hydrate){const n=function(n){return Array.from(n.childNodes)}(e.target);d.fragment&&d.fragment.l(n),n.forEach(c)}else d.fragment&&d.fragment.c();e.intro&&E(t.$$.fragment),A(t,e.target,e.anchor,e.customElement),S()}g(k)}class D{$destroy(){P(this,1),this.$destroy=n}$on(n,t){const s=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return s.push(t),()=>{const n=s.indexOf(t);-1!==n&&s.splice(n,1)}}$set(n){var t;this.$$set&&(t=n,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}function G(n,t,s){let{theme:a="dark"}=t,{key:e="theme"}=t;const o={dark:"dark",light:"light"},p=f(),c=n=>n in o,l=n=>s(0,a=n.matches?o.dark:o.light);var r;return r=()=>{const n=matchMedia("(prefers-color-scheme: dark)"),t=localStorage.getItem(e);return c(t)?s(0,a=t):s(0,a=n.matches?o.dark:o.light),n.addEventListener("change",l),()=>{n.removeEventListener("change",l)}},m().$$.on_mount.push(r),function(n){m().$$.after_update.push(n)}((()=>{c(a)&&(p("change",a),localStorage.setItem(e,a))})),n.$$set=n=>{"theme"in n&&s(0,a=n.theme),"key"in n&&s(1,e=n.key)},[a,e]}class O extends D{constructor(n){super(),U(this,n,G,null,o,{theme:0,key:1})}}function W(n){let t,s,e,o,h,g,m,f,y,v,b,T,M,x,w,H,S,C,_,N,U,D,G,W,z,B,R,F,V,Y,J,K,Q,X,Z,nn,tn,sn,an,en,on,pn,cn,ln,rn,un,kn,dn,hn,gn,mn,fn,yn,$n,vn,bn,Tn,Mn,xn,Ln,wn,Hn,Sn,Cn,_n,En,qn,jn,In,An,Pn,Nn,Un,Dn,Gn,On,Wn,zn,Bn,Rn,Fn,Vn,Yn,Jn,Kn,Qn,Xn,Zn,nt,tt,st,at,et,ot,pt,ct,lt,rt,it,ut,kt,dt,ht,gt,mt,ft,yt,$t,vt=n[1].join(", ")+"";function bt(t){n[3](t)}let Tt={};function Mt(t){n[6](t)}void 0!==n[0]&&(Tt.theme=n[0]),nn=new O({props:Tt}),$.push((()=>j(nn,"theme",bt)));let xt={};return void 0!==n[0]&&(xt.theme=n[0]),Xn=new O({props:xt}),$.push((()=>j(Xn,"theme",Mt))),Xn.$on("change",n[7]),{c(){t=l("main"),s=l("h1"),s.textContent="svelte-dark-mode",e=i(),o=l("p"),o.innerHTML='<a href="https://npmjs.com/package/svelte-dark-mode"><img src="https://img.shields.io/npm/v/svelte-dark-mode.svg?color=%23ff3e00&amp;style=for-the-badge" alt="NPM"/></a>',h=i(),g=l("blockquote"),g.innerHTML="<p>Support dark mode in your Svelte apps.</p>",m=i(),f=l("p"),f.innerHTML='<a href="https://github.com/metonym/svelte-dark-mode.git">GitHub repo</a>',y=i(),v=l("p"),v.innerHTML='This component sets the theme based on the user’s preferred color scheme using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia">window.matchMedia</a>.',b=i(),T=l("p"),T.innerHTML='The preferred theme is persisted using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">window.localStorage API</a>.',M=i(),x=l("hr"),w=i(),H=l("p"),H.innerHTML="<strong>Table of Contents</strong>",S=l("ul"),S.innerHTML='<li><a href="#install">Install</a></li> \n<li><a href="#usage">Usage</a></li> \n<ul><li><a href="#basic">Basic</a></li> \n<li><a href="#server-side-rendering-(ssr)">Server-side rendering (SSR)</a></li> \n<li><a href="#system-preference-change">System preference change</a></li> \n<li><a href="#custom-localstorage-key">Custom</a></li> \n</ul><li><a href="#api">API</a></li> \n<ul><li><a href="#props">Props</a></li> \n<li><a href="#dispatched-events">Dispatched events</a></li> \n</ul><li><a href="#typescript">TypeScript</a></li> \n<li><a href="#changelog">Changelog</a></li> \n<li><a href="#license">License</a></li>',C=i(),_=l("h2"),_.textContent="Install",N=i(),U=l("p"),U.innerHTML="<strong>Yarn</strong>",D=i(),G=l("pre"),W=i(),z=l("p"),z.innerHTML="<strong>NPM</strong>",B=i(),R=l("pre"),F=i(),V=l("h2"),V.textContent="Usage",Y=i(),J=l("h3"),J.textContent="Basic",K=i(),Q=l("p"),Q.innerHTML="The <code>theme</code> is set to either <code>&quot;dark&quot;</code> or <code>&quot;light&quot;</code> based on the user’s system preference.",X=i(),Z=l("div"),I(nn.$$.fragment),sn=i(),an=l("h1"),en=r("This is "),on=r(n[0]),pn=r(" mode."),cn=i(),ln=l("p"),ln.textContent="Change the theme and reload the page.",rn=i(),un=l("button"),kn=r("Switch to "),dn=r(n[2]),hn=r(" mode\n"),gn=l("pre"),mn=i(),fn=l("h3"),fn.textContent="Server-side rendering (SSR)",yn=i(),$n=l("p"),$n.innerHTML="When using server-side rendering (SSR), employ the <code>afterUpdate</code> lifecycle to access <code>document.body</code> or <code>document.documentElement</code>.",vn=i(),bn=l("pre"),Tn=i(),Mn=l("h3"),Mn.textContent="System preference change",xn=i(),Ln=l("p"),Ln.textContent="The theme will automatically be updated if the user changes their color scheme preference at the system level.",wn=i(),Hn=l("h3"),Hn.innerHTML="Custom <code>localStorage</code> key",Sn=i(),Cn=l("p"),Cn.innerHTML="Use the <code>key</code> prop to customize the local storage key used to track the persisted theme.",_n=i(),En=l("p"),En.innerHTML="By default, the key is <code>&quot;theme&quot;</code>.",qn=i(),jn=l("pre"),In=i(),An=l("p"),An.innerHTML="Use the <code>localStorage.getItem</code> API to programmatically access the stored value.",Pn=i(),Nn=l("pre"),Un=i(),Dn=l("h2"),Dn.textContent="API",Gn=i(),On=l("h3"),On.textContent="Props",Wn=i(),zn=l("table"),zn.innerHTML='<thead><tr><th style="text-align:left">Prop name</th> \n<th style="text-align:left">Value</th></tr></thead> \n<tbody><tr><td style="text-align:left">theme</td> \n<td style="text-align:left"><code>&quot;dark&quot;</code> or <code>&quot;light&quot;</code> (default: <code>&quot;dark&quot;</code>)</td></tr> \n<tr><td style="text-align:left">key</td> \n<td style="text-align:left"><code>string</code> (default: <code>&quot;theme&quot;</code>)</td></tr></tbody>',Bn=i(),Rn=l("h3"),Rn.textContent="Dispatched events",Fn=i(),Vn=l("ul"),Vn.innerHTML="<li><strong>on:change</strong>: dispatched when <code>theme</code> is updated</li>",Yn=i(),Jn=l("div"),Kn=l("button"),Kn.textContent="Toggle theme",Qn=i(),I(Xn.$$.fragment),nt=i(),tt=r(vt),st=l("pre"),at=i(),et=l("h2"),et.textContent="TypeScript",ot=i(),pt=l("p"),pt.innerHTML="<code>svelte</code> version 3.31 or greater is required to use this component with TypeScript.",ct=i(),lt=l("p"),lt.innerHTML='TypeScript definitions are located in the <a href="https://github.com/metonym/svelte-dark-mode/tree/master/types">types folder</a>.',rt=i(),it=l("h2"),it.textContent="Changelog",ut=i(),kt=l("p"),kt.innerHTML='<a href="https://github.com/metonym/svelte-dark-mode/tree/master/CHANGELOG.md">CHANGELOG.md</a>',dt=i(),ht=l("h2"),ht.textContent="License",gt=i(),mt=l("p"),mt.innerHTML='<a href="https://github.com/metonym/svelte-dark-mode/tree/master/LICENSE">MIT</a>',k(s,"id","svelte-dark-mode"),k(_,"id","install"),k(G,"class","language-bash"),k(R,"class","language-bash"),k(V,"id","usage"),k(J,"id","basic"),k(Z,"class","code-fence"),k(gn,"class","language-svelte"),k(gn,"data-svelte",""),k(fn,"id","server-side-rendering-(ssr)"),k(bn,"class","language-html"),k(Mn,"id","system-preference-change"),k(Hn,"id","custom-localstorage-key"),k(jn,"class","language-html"),k(Nn,"class","language-javascript"),k(Dn,"id","api"),k(On,"id","props"),k(Rn,"id","dispatched-events"),k(Jn,"class","code-fence"),k(st,"class","language-svelte"),k(st,"data-svelte",""),k(et,"id","typescript"),k(it,"id","changelog"),k(ht,"id","license"),k(t,"class","markdown-body")},m(a,c){!function(n,t,s){n.insertBefore(t,s||null)}(a,t,c),p(t,s),p(t,e),p(t,o),p(t,h),p(t,g),p(t,m),p(t,f),p(t,y),p(t,v),p(t,b),p(t,T),p(t,M),p(t,x),p(t,w),p(t,H),p(t,S),p(t,C),p(t,_),p(t,N),p(t,U),p(t,D),p(t,G),G.innerHTML='<span class="token function">yarn</span> <span class="token function">add</span> -D svelte-dark-mode\n',p(t,W),p(t,z),p(t,B),p(t,R),R.innerHTML='<span class="token function">npm</span> i -D svelte-dark-mode\n',p(t,F),p(t,V),p(t,Y),p(t,J),p(t,K),p(t,Q),p(t,X),p(t,Z),A(nn,Z,null),p(Z,sn),p(Z,an),p(an,en),p(an,on),p(an,pn),p(Z,cn),p(Z,ln),p(Z,rn),p(Z,un),p(un,kn),p(un,dn),p(un,hn),p(t,gn),gn.innerHTML='<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">import</span> DarkMode <span class="token keyword">from</span> <span class="token string">"svelte-dark-mode"</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">let</span> theme<span class="token punctuation">;</span>\n\n  $<span class="token operator">:</span> switchTheme <span class="token operator">=</span> theme <span class="token operator">===</span> <span class="token string">"dark"</span> <span class="token operator">?</span> <span class="token string">"light"</span> <span class="token operator">:</span> <span class="token string">"dark"</span><span class="token punctuation">;</span>\n  $<span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> theme<span class="token punctuation">;</span> <span class="token comment">// "dark" or "light"</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DarkMode</span> <span class="token attr-name"><span class="token namespace">bind:</span>theme</span> <span class="token punctuation">/></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>This is <span class="token language-javascript"><span class="token punctuation">{</span>theme<span class="token punctuation">}</span></span> mode.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Change the theme and reload the page.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">on:</span>click=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>theme <span class="token operator">=</span> switchTheme<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n  Switch to <span class="token language-javascript"><span class="token punctuation">{</span>switchTheme<span class="token punctuation">}</span></span> mode\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n  <span class="token selector">:global(.dark)</span> <span class="token punctuation">{</span>\n    <span class="token property">background</span><span class="token punctuation">:</span> #032f62<span class="token punctuation">;</span>\n    <span class="token property">color</span><span class="token punctuation">:</span> #f1f8ff<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n',p(t,mn),p(t,fn),p(t,yn),p(t,$n),p(t,vn),p(t,bn),bn.innerHTML='<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">import</span> <span class="token punctuation">{</span> afterUpdate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"svelte"</span><span class="token punctuation">;</span>\n\n  <span class="token function">afterUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> theme<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n',p(t,Tn),p(t,Mn),p(t,xn),p(t,Ln),p(t,wn),p(t,Hn),p(t,Sn),p(t,Cn),p(t,_n),p(t,En),p(t,qn),p(t,jn),jn.innerHTML='<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DarkMode</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>custom-theme-key<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n',p(t,In),p(t,An),p(t,Pn),p(t,Nn),Nn.innerHTML='localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"custom-theme-key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "dark" || "light"</span>\n',p(t,Un),p(t,Dn),p(t,Gn),p(t,On),p(t,Wn),p(t,zn),p(t,Bn),p(t,Rn),p(t,Fn),p(t,Vn),p(t,Yn),p(t,Jn),p(Jn,Kn),p(Jn,Qn),A(Xn,Jn,null),p(Jn,nt),p(Jn,tt),p(t,st),st.innerHTML='<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">let</span> events <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">on:</span>click=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>theme <span class="token operator">=</span> switchTheme<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span> Toggle theme <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DarkMode</span> <span class="token attr-name"><span class="token namespace">bind:</span>theme</span> <span class="token attr-name"><span class="token namespace">on:</span>change=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>events <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>events<span class="token punctuation">,</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n\n<span class="token language-javascript"><span class="token punctuation">{</span>events<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n',p(t,at),p(t,et),p(t,ot),p(t,pt),p(t,ct),p(t,lt),p(t,rt),p(t,it),p(t,ut),p(t,kt),p(t,dt),p(t,ht),p(t,gt),p(t,mt),ft=!0,yt||($t=[u(un,"click",n[4]),u(Kn,"click",n[5])],yt=!0)},p(n,[t]){const s={};!tn&&1&t&&(tn=!0,s.theme=n[0],L((()=>tn=!1))),nn.$set(s),(!ft||1&t)&&d(on,n[0]),(!ft||4&t)&&d(dn,n[2]);const a={};!Zn&&1&t&&(Zn=!0,a.theme=n[0],L((()=>Zn=!1))),Xn.$set(a),(!ft||2&t)&&vt!==(vt=n[1].join(", ")+"")&&d(tt,vt)},i(n){ft||(E(nn.$$.fragment,n),E(Xn.$$.fragment,n),ft=!0)},o(n){q(nn.$$.fragment,n),q(Xn.$$.fragment,n),ft=!1},d(n){n&&c(t),P(nn),P(Xn),yt=!1,a($t)}}}function z(n,t,s){let a,e,o=[];return n.$$.update=()=>{1&n.$$.dirty&&s(2,a="dark"===e?"light":"dark"),1&n.$$.dirty&&(document.body.className=e)},[e,o,a,function(n){e=n,s(0,e)},()=>s(0,e=a),()=>s(0,e=a),function(n){e=n,s(0,e)},n=>s(1,o=[...o,n.detail])]}return new class extends D{constructor(n){super(),U(this,n,z,W,o,{})}}({target:document.body})}();
