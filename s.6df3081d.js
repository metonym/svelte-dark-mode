var app=function(){"use strict";function n(){}function t(n){return n()}function a(){return Object.create(null)}function s(n){n.forEach(t)}function e(n){return"function"==typeof n}function o(n,t){return n!=n?t==t:n!==t}let p=!1;const c=new Set;function l(n,t){p&&c.delete(t),t.parentNode!==n&&n.appendChild(t)}function r(n){p?c.add(n):n.parentNode&&n.parentNode.removeChild(n)}function i(n){return document.createElement(n)}function u(n){return document.createTextNode(n)}function k(){return u(" ")}function d(n,t,a,s){return n.addEventListener(t,a,s),()=>n.removeEventListener(t,a,s)}function h(n,t,a){null==a?n.removeAttribute(t):n.getAttribute(t)!==a&&n.setAttribute(t,a)}function g(n,t){t=""+t,n.wholeText!==t&&(n.data=t)}let m;function f(n){m=n}function y(){if(!m)throw new Error("Function called outside component initialization");return m}function $(){const n=y();return(t,a)=>{const s=n.$$.callbacks[t];if(s){const e=function(n,t){const a=document.createEvent("CustomEvent");return a.initCustomEvent(n,!1,!1,t),a}(t,a);s.slice().forEach((t=>{t.call(n,e)}))}}}const v=[],b=[],T=[],x=[],M=Promise.resolve();let w=!1;function L(n){T.push(n)}function S(n){x.push(n)}let C=!1;const H=new Set;function _(){if(!C){C=!0;do{for(let n=0;n<v.length;n+=1){const t=v[n];f(t),E(t.$$)}for(f(null),v.length=0;b.length;)b.pop()();for(let n=0;n<T.length;n+=1){const t=T[n];H.has(t)||(H.add(t),t())}T.length=0}while(v.length);for(;x.length;)x.pop()();w=!1,C=!1,H.clear()}}function E(n){if(null!==n.fragment){n.update(),s(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(L)}}const q=new Set;function j(n,t){n&&n.i&&(q.delete(n),n.i(t))}function I(n,t,a,s){if(n&&n.o){if(q.has(n))return;q.add(n),undefined.c.push((()=>{q.delete(n),s&&(a&&n.d(1),s())})),n.o(t)}}function N(n,t,a){const s=n.$$.props[t];void 0!==s&&(n.$$.bound[s]=a,a(n.$$.ctx[s]))}function A(n){n&&n.c()}function P(n,a,o,p){const{fragment:c,on_mount:l,on_destroy:r,after_update:i}=n.$$;c&&c.m(a,o),p||L((()=>{const a=l.map(t).filter(e);r?r.push(...a):s(a),n.$$.on_mount=[]})),i.forEach(L)}function U(n,t){const a=n.$$;null!==a.fragment&&(s(a.on_destroy),a.fragment&&a.fragment.d(t),a.on_destroy=a.fragment=null,a.ctx=[])}function D(n,t){-1===n.$$.dirty[0]&&(v.push(n),w||(w=!0,M.then(_)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function O(t,e,o,l,i,u,k=[-1]){const d=m;f(t);const h=t.$$={fragment:null,ctx:null,props:u,update:n,not_equal:i,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:e.context||[]),callbacks:a(),dirty:k,skip_bound:!1};let g=!1;if(h.ctx=o?o(t,e.props||{},((n,a,...s)=>{const e=s.length?s[0]:a;return h.ctx&&i(h.ctx[n],h.ctx[n]=e)&&(!h.skip_bound&&h.bound[n]&&h.bound[n](e),g&&D(t,n)),a})):[],h.update(),g=!0,s(h.before_update),h.fragment=!!l&&l(h.ctx),e.target){if(e.hydrate){p=!0;const n=function(n){return Array.from(n.childNodes)}(e.target);h.fragment&&h.fragment.l(n),n.forEach(r)}else h.fragment&&h.fragment.c();e.intro&&j(t.$$.fragment),P(t,e.target,e.anchor,e.customElement),function(){p=!1;for(const n of c)n.parentNode.removeChild(n);c.clear()}(),_()}f(d)}class G{$destroy(){U(this,1),this.$destroy=n}$on(n,t){const a=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return a.push(t),()=>{const n=a.indexOf(t);-1!==n&&a.splice(n,1)}}$set(n){var t;this.$$set&&(t=n,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}function W(n,t,a){let{theme:s="dark"}=t,{key:e="theme"}=t;const o={dark:"dark",light:"light"},p=$(),c=n=>n in o,l=n=>a(0,s=n.matches?o.dark:o.light);var r;return r=()=>{const n=matchMedia("(prefers-color-scheme: dark)"),t=localStorage.getItem(e);return c(t)?a(0,s=t):a(0,s=n.matches?o.dark:o.light),n.addEventListener("change",l),()=>{n.removeEventListener("change",l)}},y().$$.on_mount.push(r),function(n){y().$$.after_update.push(n)}((()=>{c(s)&&(p("change",s),localStorage.setItem(e,s))})),n.$$set=n=>{"theme"in n&&a(0,s=n.theme),"key"in n&&a(1,e=n.key)},[s,e]}class z extends G{constructor(n){super(),O(this,n,W,null,o,{theme:0,key:1})}}function B(n){let t,a,e,o,m,f,y,$,v,T,x,M,w,L,C,H,_,E,q,D,O,G,W,B,R,F,V,J,K,Q,X,Y,Z,nn,tn,an,sn,en,on,pn,cn,ln,rn,un,kn,dn,hn,gn,mn,fn,yn,$n,vn,bn,Tn,xn,Mn,wn,Ln,Sn,Cn,Hn,_n,En,qn,jn,In,Nn,An,Pn,Un,Dn,On,Gn,Wn,zn,Bn,Rn,Fn,Vn,Jn,Kn,Qn,Xn,Yn,Zn,nt,tt,at,st,et,ot,pt,ct,lt,rt,it,ut,kt,dt,ht=n[1].join(", ")+"";function gt(t){n[3](t)}let mt={};function ft(t){n[6](t)}void 0!==n[0]&&(mt.theme=n[0]),Q=new z({props:mt}),b.push((()=>N(Q,"theme",gt)));let yt={};return void 0!==n[0]&&(yt.theme=n[0]),Jn=new z({props:yt}),b.push((()=>N(Jn,"theme",ft))),Jn.$on("change",n[7]),{c(){t=i("main"),a=i("h1"),a.textContent="svelte-dark-mode",e=k(),o=i("p"),o.innerHTML='<a href="https://npmjs.com/package/svelte-dark-mode"><img src="https://img.shields.io/npm/v/svelte-dark-mode.svg?color=%23ff3e00&amp;style=for-the-badge" alt="NPM"/></a>',m=k(),f=i("blockquote"),f.innerHTML="<p>Support dark mode in your Svelte apps.</p>",y=k(),$=i("p"),$.innerHTML='<a href="https://github.com/metonym/svelte-dark-mode.git">GitHub repo</a>',v=k(),T=i("p"),T.innerHTML='This component sets the theme based on the user’s preferred color scheme using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia">window.matchMedia</a>.',x=k(),M=i("p"),M.innerHTML='The preferred theme is persisted using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">window.localStorage API</a>.',w=k(),L=i("hr"),C=k(),H=i("p"),H.innerHTML="<strong>Table of Contents</strong>",_=i("ul"),_.innerHTML='<li><a href="#install">Install</a></li> \n<li><a href="#usage">Usage</a></li> \n<ul><li><a href="#basic">Basic</a></li> \n<li><a href="#server-side-rendering-(ssr)">Server-side rendering (SSR)</a></li> \n<li><a href="#system-preference-change">System preference change</a></li> \n<li><a href="#custom-localstorage-key">Custom</a></li> \n</ul><li><a href="#api">API</a></li> \n<ul><li><a href="#props">Props</a></li> \n<li><a href="#dispatched-events">Dispatched events</a></li> \n</ul><li><a href="#typescript">TypeScript</a></li> \n<li><a href="#changelog">Changelog</a></li> \n<li><a href="#license">License</a></li>',E=k(),q=i("h2"),q.textContent="Install",D=k(),O=i("pre"),G=k(),W=i("h2"),W.textContent="Usage",B=k(),R=i("h3"),R.textContent="Basic",F=k(),V=i("p"),V.innerHTML="The <code>theme</code> is set to either <code>&quot;dark&quot;</code> or <code>&quot;light&quot;</code> based on the user’s system preference.",J=k(),K=i("div"),A(Q.$$.fragment),Y=k(),Z=i("h1"),nn=u("This is "),tn=u(n[0]),an=u(" mode."),sn=k(),en=i("p"),en.textContent="Change the theme and reload the page.",on=k(),pn=i("button"),cn=u("Switch to "),ln=u(n[2]),rn=u(" mode\n"),un=i("pre"),kn=k(),dn=i("h3"),dn.textContent="Server-side rendering (SSR)",hn=k(),gn=i("p"),gn.innerHTML="When using server-side rendering (SSR), employ the <code>afterUpdate</code> lifecycle to access <code>document.body</code> or <code>document.documentElement</code>.",mn=k(),fn=i("pre"),yn=k(),$n=i("h3"),$n.textContent="System preference change",vn=k(),bn=i("p"),bn.textContent="The theme will automatically be updated if the user changes their color scheme preference at the system level.",Tn=k(),xn=i("h3"),xn.innerHTML="Custom <code>localStorage</code> key",Mn=k(),wn=i("p"),wn.innerHTML="Use the <code>key</code> prop to customize the local storage key used to track the persisted theme.",Ln=k(),Sn=i("p"),Sn.innerHTML="By default, the key is <code>&quot;theme&quot;</code>.",Cn=k(),Hn=i("pre"),_n=k(),En=i("p"),En.innerHTML="Use the <code>localStorage.getItem</code> API to programmatically access the stored value.",qn=k(),jn=i("pre"),In=k(),Nn=i("h2"),Nn.textContent="API",An=k(),Pn=i("h3"),Pn.textContent="Props",Un=k(),Dn=i("table"),Dn.innerHTML='<thead><tr><th style="text-align:left">Prop name</th> \n<th style="text-align:left">Value</th></tr></thead> \n<tbody><tr><td style="text-align:left">theme</td> \n<td style="text-align:left"><code>&quot;dark&quot;</code> or <code>&quot;light&quot;</code> (default: <code>&quot;dark&quot;</code>)</td></tr> \n<tr><td style="text-align:left">key</td> \n<td style="text-align:left"><code>string</code> (default: <code>&quot;theme&quot;</code>)</td></tr></tbody>',On=k(),Gn=i("h3"),Gn.textContent="Dispatched events",Wn=k(),zn=i("ul"),zn.innerHTML="<li><strong>on:change</strong>: dispatched when <code>theme</code> is updated</li>",Bn=k(),Rn=i("div"),Fn=i("button"),Fn.textContent="Toggle theme",Vn=k(),A(Jn.$$.fragment),Qn=k(),Xn=u(ht),Yn=i("pre"),Zn=k(),nt=i("h2"),nt.textContent="TypeScript",tt=k(),at=i("p"),at.innerHTML="<code>svelte</code> version 3.31 or greater is required to use this component with TypeScript.",st=k(),et=i("h2"),et.textContent="Changelog",ot=k(),pt=i("p"),pt.innerHTML='<a href="https://github.com/metonym/svelte-dark-mode/tree/master/CHANGELOG.md">CHANGELOG.md</a>',ct=k(),lt=i("h2"),lt.textContent="License",rt=k(),it=i("p"),it.innerHTML='<a href="https://github.com/metonym/svelte-dark-mode/tree/master/LICENSE">MIT</a>',h(a,"id","svelte-dark-mode"),h(q,"id","install"),h(O,"class","language-bash"),h(W,"id","usage"),h(R,"id","basic"),h(K,"class","code-fence"),h(un,"class","language-svelte"),h(un,"data-svelte",""),h(dn,"id","server-side-rendering-(ssr)"),h(fn,"class","language-html"),h($n,"id","system-preference-change"),h(xn,"id","custom-localstorage-key"),h(Hn,"class","language-html"),h(jn,"class","language-javascript"),h(Nn,"id","api"),h(Pn,"id","props"),h(Gn,"id","dispatched-events"),h(Rn,"class","code-fence"),h(Yn,"class","language-svelte"),h(Yn,"data-svelte",""),h(nt,"id","typescript"),h(et,"id","changelog"),h(lt,"id","license"),h(t,"class","markdown-body")},m(s,r){!function(n,t,a){p&&c.delete(t),(t.parentNode!==n||a&&t.nextSibling!==a)&&n.insertBefore(t,a||null)}(s,t,r),l(t,a),l(t,e),l(t,o),l(t,m),l(t,f),l(t,y),l(t,$),l(t,v),l(t,T),l(t,x),l(t,M),l(t,w),l(t,L),l(t,C),l(t,H),l(t,_),l(t,E),l(t,q),l(t,D),l(t,O),O.innerHTML='<span class="token function">yarn</span> <span class="token function">add</span> -D svelte-dark-mode\n<span class="token comment"># OR</span>\n<span class="token function">npm</span> i -D svelte-dark-mode\n',l(t,G),l(t,W),l(t,B),l(t,R),l(t,F),l(t,V),l(t,J),l(t,K),P(Q,K,null),l(K,Y),l(K,Z),l(Z,nn),l(Z,tn),l(Z,an),l(K,sn),l(K,en),l(K,on),l(K,pn),l(pn,cn),l(pn,ln),l(pn,rn),l(t,un),un.innerHTML='<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">import</span> DarkMode <span class="token keyword">from</span> <span class="token string">"svelte-dark-mode"</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">let</span> theme<span class="token punctuation">;</span>\n\n  $<span class="token operator">:</span> switchTheme <span class="token operator">=</span> theme <span class="token operator">===</span> <span class="token string">"dark"</span> <span class="token operator">?</span> <span class="token string">"light"</span> <span class="token operator">:</span> <span class="token string">"dark"</span><span class="token punctuation">;</span>\n  $<span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> theme<span class="token punctuation">;</span> <span class="token comment">// "dark" or "light"</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DarkMode</span> <span class="token attr-name"><span class="token namespace">bind:</span>theme</span> <span class="token punctuation">/></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>This is <span class="token language-javascript"><span class="token punctuation">{</span>theme<span class="token punctuation">}</span></span> mode.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Change the theme and reload the page.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">on:</span>click=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>theme <span class="token operator">=</span> switchTheme<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n  Switch to <span class="token language-javascript"><span class="token punctuation">{</span>switchTheme<span class="token punctuation">}</span></span> mode\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n  <span class="token selector">:global(.dark)</span> <span class="token punctuation">{</span>\n    <span class="token property">background</span><span class="token punctuation">:</span> #032f62<span class="token punctuation">;</span>\n    <span class="token property">color</span><span class="token punctuation">:</span> #f1f8ff<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n',l(t,kn),l(t,dn),l(t,hn),l(t,gn),l(t,mn),l(t,fn),fn.innerHTML='<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">import</span> <span class="token punctuation">{</span> afterUpdate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"svelte"</span><span class="token punctuation">;</span>\n\n  <span class="token function">afterUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>className <span class="token operator">=</span> theme<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n',l(t,yn),l(t,$n),l(t,vn),l(t,bn),l(t,Tn),l(t,xn),l(t,Mn),l(t,wn),l(t,Ln),l(t,Sn),l(t,Cn),l(t,Hn),Hn.innerHTML='<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DarkMode</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>custom-theme-key<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n',l(t,_n),l(t,En),l(t,qn),l(t,jn),jn.innerHTML='localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"custom-theme-key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "dark" || "light"</span>\n',l(t,In),l(t,Nn),l(t,An),l(t,Pn),l(t,Un),l(t,Dn),l(t,On),l(t,Gn),l(t,Wn),l(t,zn),l(t,Bn),l(t,Rn),l(Rn,Fn),l(Rn,Vn),P(Jn,Rn,null),l(Rn,Qn),l(Rn,Xn),l(t,Yn),Yn.innerHTML='<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">let</span> events <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">on:</span>click=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>theme <span class="token operator">=</span> switchTheme<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span> Toggle theme <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DarkMode</span>\n  <span class="token attr-name"><span class="token namespace">bind:</span>theme</span>\n  <span class="token attr-name"><span class="token namespace">on:</span>change=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    events <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>events<span class="token punctuation">,</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n<span class="token punctuation">/></span></span>\n\n<span class="token language-javascript"><span class="token punctuation">{</span>events<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n',l(t,Zn),l(t,nt),l(t,tt),l(t,at),l(t,st),l(t,et),l(t,ot),l(t,pt),l(t,ct),l(t,lt),l(t,rt),l(t,it),ut=!0,kt||(dt=[d(pn,"click",n[4]),d(Fn,"click",n[5])],kt=!0)},p(n,[t]){const a={};!X&&1&t&&(X=!0,a.theme=n[0],S((()=>X=!1))),Q.$set(a),(!ut||1&t)&&g(tn,n[0]),(!ut||4&t)&&g(ln,n[2]);const s={};!Kn&&1&t&&(Kn=!0,s.theme=n[0],S((()=>Kn=!1))),Jn.$set(s),(!ut||2&t)&&ht!==(ht=n[1].join(", ")+"")&&g(Xn,ht)},i(n){ut||(j(Q.$$.fragment,n),j(Jn.$$.fragment,n),ut=!0)},o(n){I(Q.$$.fragment,n),I(Jn.$$.fragment,n),ut=!1},d(n){n&&r(t),U(Q),U(Jn),kt=!1,s(dt)}}}function R(n,t,a){let s,e,o=[];return n.$$.update=()=>{1&n.$$.dirty&&a(2,s="dark"===e?"light":"dark"),1&n.$$.dirty&&(document.body.className=e)},[e,o,s,function(n){e=n,a(0,e)},()=>a(0,e=s),()=>a(0,e=s),function(n){e=n,a(0,e)},n=>{a(1,o=[...o,n.detail])}]}return new class extends G{constructor(n){super(),O(this,n,R,B,o,{})}}({target:document.body})}();
